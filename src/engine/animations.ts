const chalk = require('chalk');

export class AnimationManager {
    
    /**
     * Animación de despegue de la nave
     */
    static async animateShipLaunch(): Promise<void> {
        console.clear();
        
        const frames = [
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  🚀 PREPARANDO DESPEGUE... 🚀                                              ║
    ║                                                                              ║
    ║        🔥                                                                   ║
    ║       🔥🔥                                                                  ║
    ║      🔥🔥🔥                                                                 ║
    ║     🔥🔥🔥🔥                                                                ║
    ║    🔥🔥🔥🔥🔥                                                               ║
    ║   🔥🔥🔥🔥🔥🔥                                                              ║
    ║  🔥🔥🔥🔥🔥🔥🔥                                                             ║
    ║ 🔥🔥🔥🔥🔥🔥🔥🔥                                                            ║
    ║🔥🔥🔥🔥🔥🔥🔥🔥🔥                                                           ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `,
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  🚀 ENCENDIENDO PROPULSORES... 🚀                                         ║
    ║                                                                              ║
    ║        💥                                                                   ║
    ║       💥💥                                                                  ║
    ║      💥💥💥                                                                 ║
    ║     💥💥💥💥                                                                ║
    ║    💥💥💥💥💥                                                               ║
    ║   💥💥💥💥💥💥                                                              ║
    ║  💥💥💥💥💥💥💥                                                             ║
    ║ 💥💥💥💥💥💥💥💥                                                            ║
    ║💥💥💥💥💥💥💥💥💥                                                           ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `,
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  🚀 DESPEGANDO... 🚀                                                       ║
    ║                                                                              ║
    ║        ⚡                                                                   ║
    ║       ⚡⚡                                                                  ║
    ║      ⚡⚡⚡                                                                 ║
    ║     ⚡⚡⚡⚡                                                                ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║   ⚡⚡⚡⚡⚡⚡                                                              ║
    ║  ⚡⚡⚡⚡⚡⚡⚡                                                             ║
    ║ ⚡⚡⚡⚡⚡⚡⚡⚡                                                            ║
    ║⚡⚡⚡⚡⚡⚡⚡⚡⚡                                                           ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `
        ];

        for (const frame of frames) {
            console.clear();
            console.log(chalk.green.bold(frame));
            await this.delay(1000);
        }
    }

    /**
     * Animación de Godzilla caminando
     */
    static async animateGodzillaWalking(): Promise<void> {
        const frames = [
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  🦕 GODZILLA SE ACERCA... 🦕                                               ║
    ║                                                                              ║
    ║        🦕                                                                   ║
    ║       🦕🦕                                                                  ║
    ║      🦕🦕🦕                                                                 ║
    ║     🦕🦕🦕🦕                                                                ║
    ║    🦕🦕🦕🦕🦕                                                               ║
    ║   🦕🦕🦕🦕🦕🦕                                                              ║
    ║  🦕🦕🦕🦕🦕🦕🦕                                                             ║
    ║ 🦕🦕🦕🦕🦕🦕🦕🦕                                                            ║
    ║🦕🦕🦕🦕🦕🦕🦕🦕🦕                                                           ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `,
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  🦕 GODZILLA SE ACERCA... 🦕                                               ║
    ║                                                                              ║
    ║      🦕                                                                     ║
    ║     🦕🦕                                                                    ║
    ║    🦕🦕🦕                                                                   ║
    ║   🦕🦕🦕🦕                                                                  ║
    ║  🦕🦕🦕🦕🦕                                                                 ║
    ║ 🦕🦕🦕🦕🦕🦕                                                                ║
    ║🦕🦕🦕🦕🦕🦕🦕                                                               ║
    ║🦕🦕🦕🦕🦕🦕🦕🦕                                                              ║
    ║🦕🦕🦕🦕🦕🦕🦕🦕🦕                                                             ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `,
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  🦕 GODZILLA SE ACERCA... 🦕                                               ║
    ║                                                                              ║
    ║    🦕                                                                       ║
    ║   🦕🦕                                                                      ║
    ║  🦕🦕🦕                                                                     ║
    ║ 🦕🦕🦕🦕                                                                    ║
    ║🦕🦕🦕🦕🦕                                                                   ║
    ║🦕🦕🦕🦕🦕🦕                                                                  ║
    ║🦕🦕🦕🦕🦕🦕🦕                                                                 ║
    ║🦕🦕🦕🦕🦕🦕🦕🦕                                                                ║
    ║🦕🦕🦕🦕🦕🦕🦕🦕🦕                                                               ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `
        ];

        for (const frame of frames) {
            console.clear();
            console.log(chalk.red.bold(frame));
            await this.delay(800);
        }
    }

    /**
     * Animación de explosión
     */
    static async animateExplosion(): Promise<void> {
        const frames = [
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  💥 EXPLOSIÓN 💥                                                           ║
    ║                                                                              ║
    ║        💥                                                                   ║
    ║                                                                              ║
    ║                                                                              ║
    ║                                                                              ║
    ║                                                                              ║
    ║                                                                              ║
    ║                                                                              ║
    ║                                                                              ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `,
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  💥 EXPLOSIÓN 💥                                                           ║
    ║                                                                              ║
    ║      💥💥💥                                                                 ║
    ║    💥💥💥💥💥                                                               ║
    ║  💥💥💥💥💥💥💥                                                             ║
    ║ 💥💥💥💥💥💥💥💥                                                            ║
    ║💥💥💥💥💥💥💥💥💥                                                           ║
    ║ 💥💥💥💥💥💥💥💥                                                            ║
    ║  💥💥💥💥💥💥💥                                                             ║
    ║    💥💥💥💥💥                                                               ║
    ║      💥💥💥                                                                 ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `,
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  💥 EXPLOSIÓN 💥                                                           ║
    ║                                                                              ║
    ║    💥💥💥💥💥                                                               ║
    ║  💥💥💥💥💥💥💥                                                             ║
    ║ 💥💥💥💥💥💥💥💥                                                            ║
    ║💥💥💥💥💥💥💥💥💥                                                           ║
    ║💥💥💥💥💥💥💥💥💥                                                           ║
    ║💥💥💥💥💥💥💥💥💥                                                           ║
    ║ 💥💥💥💥💥💥💥💥                                                            ║
    ║  💥💥💥💥💥💥💥                                                             ║
    ║    💥💥💥💥💥                                                               ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `
        ];

        for (const frame of frames) {
            console.clear();
            console.log(chalk.yellow.bold(frame));
            await this.delay(500);
        }
    }

    /**
     * Animación de rayo de energía
     */
    static async animateEnergyBeam(): Promise<void> {
        const frames = [
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  ⚡ RAYO DE ENERGÍA ⚡                                                      ║
    ║                                                                              ║
    ║        ⚡                                                                   ║
    ║        ⚡                                                                   ║
    ║        ⚡                                                                   ║
    ║        ⚡                                                                   ║
    ║        ⚡                                                                   ║
    ║        ⚡                                                                   ║
    ║        ⚡                                                                   ║
    ║        ⚡                                                                   ║
    ║        ⚡                                                                   ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `,
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  ⚡ RAYO DE ENERGÍA ⚡                                                      ║
    ║                                                                              ║
    ║      ⚡⚡⚡                                                                 ║
    ║      ⚡⚡⚡                                                                 ║
    ║      ⚡⚡⚡                                                                 ║
    ║      ⚡⚡⚡                                                                 ║
    ║      ⚡⚡⚡                                                                 ║
    ║      ⚡⚡⚡                                                                 ║
    ║      ⚡⚡⚡                                                                 ║
    ║      ⚡⚡⚡                                                                 ║
    ║      ⚡⚡⚡                                                                 ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `,
            `
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  ⚡ RAYO DE ENERGÍA ⚡                                                      ║
    ║                                                                              ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║    ⚡⚡⚡⚡⚡                                                               ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
            `
        ];

        for (const frame of frames) {
            console.clear();
            console.log(chalk.cyan.bold(frame));
            await this.delay(300);
        }
    }

    /**
     * Animación de barra de progreso
     */
    static async animateProgressBar(progress: number, label: string): Promise<void> {
        const barLength = 30;
        const filledLength = Math.floor((progress / 100) * barLength);
        const bar = '█'.repeat(filledLength) + '░'.repeat(barLength - filledLength);
        
        console.log(chalk.blue.bold(`
    ╔══════════════════════════════════════════════════════════════════════════════╗
    ║                                                                              ║
    ║  ${label}                                                                  ║
    ║                                                                              ║
    ║  [${bar}] ${progress.toFixed(1)}%                                        ║
    ║                                                                              ║
    ╚══════════════════════════════════════════════════════════════════════════════╝
        `));
    }

    /**
     * Función de delay
     */
    private static delay(ms: number): Promise<void> {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
}
